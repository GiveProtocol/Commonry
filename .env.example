# Commonry Environment Variables Configuration
# Copy this file to .env and fill in your values

# ==================== DATABASE ====================
# PostgreSQL connection string
# Format: postgres://username:password@host:port/database
DATABASE_URL=postgres://your_username:your_password@localhost:5432/commonry

# ==================== JWT AUTHENTICATION ====================
# Secret key for signing JWT tokens (use a strong random string)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-secret-key-change-in-production

# ==================== EMAIL SERVICE ====================
# Email service for verification emails (using Nodemailer)
# Example values shown for Gmail - adjust for your email provider

# SMTP Host (Gmail example)
EMAIL_HOST=smtp.gmail.com

# SMTP Port (587 for TLS, 465 for SSL)
EMAIL_PORT=587

# Email account username
EMAIL_USER=your-email@gmail.com

# Email account password or app-specific password
EMAIL_PASSWORD=your-email-password

# "From" address for outgoing emails
EMAIL_FROM=Commonry <noreply@commonry.app>

# ==================== DISCOURSE FORUM INTEGRATION ====================
# Discourse SSO Configuration

# Shared secret for Discourse SSO (must match Discourse settings)
# Generate with: openssl rand -hex 32
# This MUST be the same value as discourse_connect_secret in Discourse
DISCOURSE_SSO_SECRET=your_discourse_sso_secret_here

# Your Discourse forum base URL
DISCOURSE_URL=https://forum.commonry.app

# ==================== FRONTEND (VITE) VARIABLES ====================
# These variables must be prefixed with VITE_ to be accessible in frontend

# Commonry API base URL (your backend server)
# Development: http://localhost:3000
# Production: https://api.commonry.app
VITE_API_URL=http://localhost:3000

# Discourse forum URL (for frontend API calls)
VITE_DISCOURSE_URL=https://forum.commonry.app

# Optional: Discourse API key for reading posts/topics
# Generate in Discourse Admin > API > New API Key
# Scopes: Read posts, Read topics
VITE_DISCOURSE_API_KEY=your_discourse_api_key_here

# ==================== SERVER CONFIGURATION ====================
# Port for Express backend server
PORT=3000

# Node environment (development, production, test)
NODE_ENV=development

# ==================== SECURITY & RATE LIMITING ====================
# Rate limiting settings (requests per window)
# These are optional - defaults are set in server.js

# General rate limit (requests per 15 minutes)
# RATE_LIMIT_MAX=100

# Upload rate limit (uploads per 15 minutes)
# UPLOAD_LIMIT_MAX=5

# ==================== OPTIONAL: APPLICATION SETTINGS ====================
# Base URL for the application (used in emails, redirects)
APP_URL=http://localhost:5173

# Application name (used in emails, meta tags)
APP_NAME=Commonry

# Support email address
SUPPORT_EMAIL=support@commonry.app
